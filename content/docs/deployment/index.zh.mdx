---
title: éƒ¨ç½²æ¦‚è¿°
description: å°† ShipSaaS åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°å„ç§å¹³å°çš„æŒ‡å—
icon: FileText
---

# éƒ¨ç½²æ¦‚è¿°

æœ¬èŠ‚æ¶µç›–å°† ShipSaaS åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„éƒ¨ç½²æ–¹æ³•ã€‚

## éƒ¨ç½²é€‰é¡¹

### ğŸš€ [Vercel](/docs/deployment/vercel)ï¼ˆæ¨èï¼‰
éƒ¨ç½²åˆ° Vercelï¼Œè·å¾—æœ€ä½³çš„ Next.js ä½“éªŒï¼Œé›¶é…ç½®ã€‚

- ä¸€é”®éƒ¨ç½²
- è‡ªåŠ¨ HTTPS
- å…¨çƒ CDN
- æ— æœåŠ¡å™¨å‡½æ•°
- å†…ç½®åˆ†æ

### ğŸŒ [Netlify](/docs/deployment/netlify)
éƒ¨ç½²åˆ° Netlifyï¼Œå¼ºå¤§çš„ JAMstack æ‰˜ç®¡è§£å†³æ–¹æ¡ˆã€‚

- åŸºäº Git çš„éƒ¨ç½²
- è¡¨å•å¤„ç†
- è¾¹ç¼˜å‡½æ•°
- åˆ†å‰²æµ‹è¯•
- èº«ä»½ç®¡ç†

### ğŸ³ [Docker](/docs/deployment/docker)
å®¹å™¨åŒ–æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œåœ¨å„ç§ç¯å¢ƒä¸­å®ç°ä¸€è‡´çš„éƒ¨ç½²ã€‚

- å®¹å™¨ç¼–æ’
- å¯æ‰©å±•åŸºç¡€è®¾æ–½
- ç¯å¢ƒä¸€è‡´æ€§
- å¤šé˜¶æ®µæ„å»º
- ç”Ÿäº§ä¼˜åŒ–

### ğŸ–¥ï¸ [è‡ªå®šä¹‰æœåŠ¡å™¨](/docs/deployment/custom-server)
éƒ¨ç½²åˆ°æ‚¨è‡ªå·±çš„åŸºç¡€è®¾æ–½ï¼Œå®Œå…¨æ§åˆ¶ã€‚

- VPS éƒ¨ç½²
- äº‘æä¾›å•†ï¼ˆAWSã€GCPã€Azureï¼‰
- è´Ÿè½½å‡è¡¡
- è‡ªå®šä¹‰é…ç½®
- é«˜çº§ç›‘æ§

## éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

åœ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ï¼Œç¡®ä¿æ‚¨å·²ï¼š

### ç¯å¢ƒé…ç½®
- [ ] è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡
- [ ] é…ç½®æ•°æ®åº“è¿æ¥
- [ ] ä¸ºç”Ÿäº§ URL é…ç½® OAuth æä¾›å•†
- [ ] ä½¿ç”¨ç”Ÿäº§ç«¯ç‚¹æ›´æ–° Stripe webhooks
- [ ] é…ç½®å¹¶éªŒè¯é‚®ä»¶æœåŠ¡

### å®‰å…¨æ€§
- [ ] ç”Ÿæˆå¹¶è®¾ç½® NEXTAUTH_SECRET
- [ ] å¯ç”¨ HTTPS
- [ ] é…ç½®å®‰å…¨å¤´
- [ ] å®æ–½é€Ÿç‡é™åˆ¶
- [ ] è¾“å…¥éªŒè¯åˆ°ä½

### æ€§èƒ½
- [ ] ä¼˜åŒ–å›¾åƒ
- [ ] åˆ†æåŒ…å¤§å°
- [ ] å®æ–½ç¼“å­˜ç­–ç•¥
- [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- [ ] é…ç½® CDN

### ç›‘æ§
- [ ] è®¾ç½®é”™è¯¯è·Ÿè¸ªï¼ˆSentry ç­‰ï¼‰
- [ ] é…ç½®åˆ†æï¼ˆUmamiï¼‰
- [ ] å¯ç”¨æ­£å¸¸è¿è¡Œæ—¶é—´ç›‘æ§
- [ ] æ€§èƒ½ç›‘æ§åˆ°ä½
- [ ] é…ç½®æ—¥å¿—èšåˆ

## ç”Ÿäº§ç¯å¢ƒå˜é‡

ä¸ºç”Ÿäº§ç¯å¢ƒæ›´æ–°æ‚¨çš„ç¯å¢ƒå˜é‡ï¼š

```bash
# ç”Ÿäº§ç¯å¢ƒå˜é‡
NODE_ENV=production
NEXTAUTH_URL=https://yourdomain.com
DATABASE_URL=postgresql://prod_user:prod_pass@prod_host/prod_db

# Stripe ç”Ÿäº§å¯†é’¥
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# OAuth ç”Ÿäº§è®¾ç½®
GOOGLE_CLIENT_ID=your-prod-google-client-id
GOOGLE_CLIENT_SECRET=your-prod-google-client-secret

# é‚®ä»¶ç”Ÿäº§è®¾ç½®
RESEND_API_KEY=re_...
```

## æ•°æ®åº“è¿ç§»

ç¡®ä¿æ‚¨çš„ç”Ÿäº§æ•°æ®åº“æ­£ç¡®è®¾ç½®ï¼š

```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# å°†æ¶æ„æ¨é€åˆ°ç”Ÿäº§æ•°æ®åº“
npx prisma db push

# æˆ–è¿è¡Œè¿ç§»
npx prisma migrate deploy
```

## æ„å»ºä¼˜åŒ–

ä¸ºç”Ÿäº§ç¯å¢ƒä¼˜åŒ–æ‚¨çš„æ„å»ºï¼š

```bash
# æ„å»ºåº”ç”¨ç¨‹åº
npm run build

# åˆ†æåŒ…å¤§å°
npm run analyze

# æœ¬åœ°å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ï¼ˆç”¨äºæµ‹è¯•ï¼‰
npm start
```

## åŸŸåé…ç½®

### DNS è®¾ç½®

é…ç½®æ‚¨çš„åŸŸå DNSï¼š

```
ç±»å‹    åç§°    å€¼
A       @       your-server-ip
CNAME   www     yourdomain.com
```

### SSL è¯ä¹¦

ç¡®ä¿å¯ç”¨ HTTPSï¼š
- å¤§å¤šæ•°å¹³å°ï¼ˆVercelã€Netlifyï¼‰æä¾›è‡ªåŠ¨ SSL
- å¯¹äºè‡ªå®šä¹‰æœåŠ¡å™¨ï¼Œä½¿ç”¨ Let's Encrypt æˆ–è´­ä¹° SSL è¯ä¹¦

## æ€§èƒ½ä¼˜åŒ–

### Next.js é…ç½®

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  // å¯ç”¨å‹ç¼©
  compress: true,
  
  // ä¼˜åŒ–å›¾åƒ
  images: {
    domains: ['yourdomain.com'],
    formats: ['image/webp', 'image/avif'],
  },
  
  // å¯ç”¨å®éªŒæ€§åŠŸèƒ½
  experimental: {
    optimizeCss: true,
    optimizePackageImports: ['lucide-react'],
  },
  
  // å®‰å…¨å¤´
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'Referrer-Policy',
            value: 'origin-when-cross-origin',
          },
        ],
      },
    ];
  },
};

module.exports = nextConfig;
```

### ç¼“å­˜ç­–ç•¥

å®æ–½é€‚å½“çš„ç¼“å­˜ï¼š

```typescript
// API è·¯ç”±ç¼“å­˜ç¤ºä¾‹
export async function GET() {
  const data = await fetchData();
  
  return Response.json(data, {
    headers: {
      'Cache-Control': 'public, s-maxage=60, stale-while-revalidate=300',
    },
  });
}
```

## ç›‘æ§å’Œç»´æŠ¤

### å¥åº·æ£€æŸ¥

å®æ–½å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š

```typescript
// app/api/health/route.ts
export async function GET() {
  try {
    // æ£€æŸ¥æ•°æ®åº“è¿æ¥
    await prisma.$queryRaw`SELECT 1`;
    
    return Response.json({ status: 'healthy' });
  } catch (error) {
    return Response.json(
      { status: 'unhealthy', error: error.message },
      { status: 500 }
    );
  }
}
```

### é”™è¯¯è·Ÿè¸ª

ä½¿ç”¨ Sentry è®¾ç½®é”™è¯¯è·Ÿè¸ªï¼š

```typescript
// sentry.client.config.ts
import * as Sentry from '@sentry/nextjs';

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
});
```

## å›æ»šç­–ç•¥

ä¸ºå›æ»šåšå‡†å¤‡ï¼š

1. **æ•°æ®åº“è¿ç§»** - ä½¿ç”¨å¯é€†è¿ç§»
2. **åŠŸèƒ½æ ‡å¿—** - å®æ–½åŠŸèƒ½åˆ‡æ¢
3. **è“ç»¿éƒ¨ç½²** - ç»´æŠ¤å¹¶è¡Œç¯å¢ƒ
4. **å¤‡ä»½ç­–ç•¥** - å®šæœŸæ•°æ®åº“å’Œæ–‡ä»¶å¤‡ä»½

## å¸¸è§éƒ¨ç½²é—®é¢˜

### æ„å»ºå¤±è´¥
- æ£€æŸ¥ Node.js ç‰ˆæœ¬å…¼å®¹æ€§
- éªŒè¯æ‰€æœ‰ä¾èµ–é¡¹å·²å®‰è£…
- æŸ¥çœ‹æ„å»ºæ—¥å¿—ä»¥äº†è§£å…·ä½“é”™è¯¯

### è¿è¡Œæ—¶é”™è¯¯
- éªŒè¯ç¯å¢ƒå˜é‡
- æ£€æŸ¥æ•°æ®åº“è¿æ¥
- æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

### æ€§èƒ½é—®é¢˜
- åˆ†æåŒ…å¤§å°
- æ£€æŸ¥æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
- ç›‘æ§æœåŠ¡å™¨èµ„æº

ä»ä¸Šè¿°é€‰é¡¹ä¸­é€‰æ‹©æ‚¨é¦–é€‰çš„éƒ¨ç½²å¹³å°ï¼Œè·å–è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜ã€‚
